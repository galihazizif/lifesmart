(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{5576:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(5291)}])},9327:(e,a,s)=>{"use strict";s.d(a,{A:()=>o});var l=s(4848),n=s(1106),r=s.n(n);s(8133);var i=s(4107);function o(){let{isLoggedIn:e,handleLogin:a,handleLogout:s}=(0,i.A)();return(0,l.jsx)("nav",{id:"w2",className:"navbar navbar-default fixed-top",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)(r(),{className:"navbar-brand",href:"/dashboard",children:(0,l.jsxs)("span",{className:"xbrand",children:[(0,l.jsx)("img",{src:"/img/lifesmart.png",style:{height:"100%"}}),(0,l.jsx)("img",{src:"/img/elipsis-loader.gif",style:{display:"none"}}),(0,l.jsx)("span",{})]})}),(0,l.jsx)("button",{type:"button",className:"navbar-toggler collapsed","data-bs-toggle":"collapse","data-bs-target":"#w2-collapse","aria-controls":"w2-collapse","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,l.jsx)("span",{className:"navbar-toggler-icon"})}),(0,l.jsx)("div",{id:"w2-collapse",className:"navbar-collapse collapse",style:{},children:(0,l.jsxs)("ul",{id:"w3",className:"navbar-nav navbar-right nav",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)("a",{className:"nav-link",href:"/",children:"Home"})}),(0,l.jsx)("li",{children:e?(0,l.jsx)(r(),{className:"nav-link",href:"/dashboard",children:"Dashboard"}):null}),(0,l.jsx)("li",{children:e?(0,l.jsx)(r(),{className:"nav-link",href:"/order/list",children:"Order List"}):null}),e?(0,l.jsx)("li",{children:(0,l.jsx)("a",{onClick:s,className:"nav-link",children:"Logout"})}):null,e?null:(0,l.jsx)("li",{children:(0,l.jsx)(r(),{className:"nav-link",href:"/login",children:"Login"})})]})})]})})}},4107:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});var l=s(6540),n=s(6715);function r(){let e=(0,n.useRouter)(),[a,s]=(0,l.useState)(!1),[r,i]=(0,l.useState)("");return(0,l.useEffect)(()=>{if(window){let a=window.sessionStorage.getItem("pulsabebJwt");null!=a&&""!=a?s(!0):e.push("/login"),i(window.sessionStorage.getItem("pulsabebJwt"))}},[a]),{isLoggedIn:a,handleLogin:e=>{s(!0),window.sessionStorage.setItem("pulsabebJwt",e),i(e)},handleLogout:()=>{s(!1),window.sessionStorage.removeItem("pulsabebJwt"),e.push("/login")},pulsabebJwt:r}}},5291:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var l=s(4848),n=s(9327),r=s(4335),i=s(6540),o=s(6715),t=s(4107);function d(){let{isLoggedIn:e,handleLogin:a,handleLogout:s}=(0,t.A)(),d=(0,o.useRouter)(),[c,m]=(0,i.useState)(""),[u,h]=(0,i.useState)({username:"",password:""}),[g,p]=(0,i.useState)(!1),b="http://pulsabeb.local/pulsabebapi";console.log("kopete"),console.log(b);let v=async e=>{e.preventDefault(),p(!0);try{let e=await r.A.post(b+"/user/authenticate",u);a(e.data.accessToken),d.push("/dashboard"),p(!1)}catch(e){console.log("error b"),console.log(e),p(!1),alert("Ora Bener")}},x=e=>{let a=e.target.value;h({...u,[e.target.name]:a})};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"wrap",children:[(0,l.jsx)(n.A,{}),(0,l.jsxs)("div",{id:"main-content",className:"container",children:[(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-offset-3 col-md-5",children:(0,l.jsxs)("div",{className:"panel panel-default",children:[(0,l.jsx)("div",{className:"panel-heading",children:"Login"}),(0,l.jsxs)("div",{className:"panel-body",children:[(0,l.jsxs)("form",{id:"w0",onSubmit:v,method:"post",children:[(0,l.jsx)("input",{type:"hidden",name:"_csrf",defaultValue:"O4RRtfxVT-nr8YeEFGKD3cj9RESxlK80qZTd8K8jC0hJ6zPwsT85rrLD5Nt1Kse-n64VIMv4_Uyc8o-agmdpDQ=="}),(0,l.jsxs)("div",{className:"mb-3 field-loginform-username required",children:[(0,l.jsx)("label",{className:"form-label",htmlFor:"loginform-username",children:"Username"}),(0,l.jsx)("input",{type:"text",id:"loginform-username",className:"form-control is-invalid",name:"username","aria-required":"true","aria-invalid":"true",onChange:x,value:u.username}),(0,l.jsx)("div",{className:"invalid-feedback",children:"Username tidak boleh kosong."})]}),(0,l.jsxs)("div",{className:"mb-3 field-loginform-password required",children:[(0,l.jsx)("label",{className:"form-label",htmlFor:"loginform-password",children:"Password"}),(0,l.jsx)("input",{type:"password",id:"loginform-password",className:"form-control is-invalid",name:"password","aria-required":"true","aria-invalid":"true",onChange:x,value:u.password}),(0,l.jsx)("div",{className:"invalid-feedback",children:"Password tidak boleh kosong."})]}),(0,l.jsx)("div",{className:"form-group",children:!0!=g?(0,l.jsx)("button",{type:"submit",className:"btn btn-primary",name:"login-button",children:"Login"}):(0,l.jsx)("img",{src:"/img/elipsis-loader.gif"})})]})," "]})]})})})," "]})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[48,335,636,593,792],()=>a(5576)),_N_E=e.O()}]);