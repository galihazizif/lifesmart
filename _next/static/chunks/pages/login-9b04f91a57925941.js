(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(7644)}])},6813:function(e,a,s){"use strict";s.d(a,{Z:function(){return o}});var n=s(5893),l=s(1664),r=s.n(l);s(4298);var i=s(1242);function o(){let{isLoggedIn:e,handleLogin:a,handleLogout:s}=(0,i.Z)();return(0,n.jsx)("nav",{id:"w2",className:"navbar navbar-default fixed-top",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)(r(),{className:"navbar-brand",href:"/dashboard",children:(0,n.jsxs)("span",{className:"xbrand",children:[(0,n.jsx)("img",{src:"/img/mainlogo-wb.png",style:{height:"100%"}}),(0,n.jsx)("span",{})]})}),(0,n.jsx)("button",{type:"button",className:"navbar-toggler collapsed","data-bs-toggle":"collapse","data-bs-target":"#w2-collapse","aria-controls":"w2-collapse","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,n.jsx)("span",{className:"navbar-toggler-icon"})}),(0,n.jsx)("div",{id:"w2-collapse",className:"navbar-collapse collapse",style:{},children:(0,n.jsxs)("ul",{id:"w3",className:"navbar-nav navbar-right nav",children:[(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)("a",{className:"nav-link",href:"/",children:"Home"})}),(0,n.jsx)("li",{children:e?(0,n.jsx)(r(),{className:"nav-link",href:"/dashboard",children:"Dashboard"}):null}),(0,n.jsx)("li",{children:e?(0,n.jsx)(r(),{className:"nav-link",href:"/order/list",children:"Order List"}):null}),e?(0,n.jsx)("li",{children:(0,n.jsx)("a",{onClick:s,className:"nav-link",children:"Logout"})}):null,e?null:(0,n.jsx)("li",{children:(0,n.jsx)(r(),{className:"nav-link",href:"/login",children:"Login"})})]})})]})})}},1242:function(e,a,s){"use strict";s.d(a,{Z:function(){return r}});var n=s(7294),l=s(1163);function r(){let e=(0,l.useRouter)(),[a,s]=(0,n.useState)(!1),[r,i]=(0,n.useState)("");return(0,n.useEffect)(()=>{if(window){let a=window.sessionStorage.getItem("pulsabebJwt");null!=a&&""!=a?s(!0):e.push("/login"),i(window.sessionStorage.getItem("pulsabebJwt"))}},[a]),{isLoggedIn:a,handleLogin:e=>{s(!0),window.sessionStorage.setItem("pulsabebJwt",e),i(e)},handleLogout:()=>{s(!1),window.sessionStorage.removeItem("pulsabebJwt"),e.push("/login")},pulsabebJwt:r}}},7644:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var n=s(5893),l=s(6813),r=s(5121),i=s(7294),o=s(1163),t=s(1242);function d(){let{isLoggedIn:e,handleLogin:a,handleLogout:s}=(0,t.Z)(),d=(0,o.useRouter)(),[c,u]=(0,i.useState)(""),[m,h]=(0,i.useState)({username:"",password:""}),p="http://localhost:8201/pulsabebapi";console.log("kopete"),console.log(p);let g=async e=>{e.preventDefault();try{let e=await r.Z.post(p+"/user/authenticate",m);a(e.data.accessToken),d.push("/dashboard")}catch(e){console.log("error b"),console.log(e),alert("Ora Bener")}},b=e=>{let a=e.target.value;h({...m,[e.target.name]:a})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"wrap",children:[(0,n.jsx)(l.Z,{}),(0,n.jsxs)("div",{id:"main-content",className:"container",children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-md-offset-3 col-md-5",children:(0,n.jsxs)("div",{className:"panel panel-default",children:[(0,n.jsx)("div",{className:"panel-heading",children:"Login"}),(0,n.jsxs)("div",{className:"panel-body",children:[(0,n.jsxs)("form",{id:"w0",onSubmit:g,method:"post",children:[(0,n.jsx)("input",{type:"hidden",name:"_csrf",defaultValue:"O4RRtfxVT-nr8YeEFGKD3cj9RESxlK80qZTd8K8jC0hJ6zPwsT85rrLD5Nt1Kse-n64VIMv4_Uyc8o-agmdpDQ=="}),(0,n.jsxs)("div",{className:"mb-3 field-loginform-username required",children:[(0,n.jsx)("label",{className:"form-label",htmlFor:"loginform-username",children:"Username"}),(0,n.jsx)("input",{type:"text",id:"loginform-username",className:"form-control is-invalid",name:"username","aria-required":"true","aria-invalid":"true",onChange:b,value:m.username}),(0,n.jsx)("div",{className:"invalid-feedback",children:"Username tidak boleh kosong."})]}),(0,n.jsxs)("div",{className:"mb-3 field-loginform-password required",children:[(0,n.jsx)("label",{className:"form-label",htmlFor:"loginform-password",children:"Password"}),(0,n.jsx)("input",{type:"password",id:"loginform-password",className:"form-control is-invalid",name:"password","aria-required":"true","aria-invalid":"true",onChange:b,value:m.password}),(0,n.jsx)("div",{className:"invalid-feedback",children:"Password tidak boleh kosong."})]}),(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)("button",{type:"submit",className:"btn btn-primary",name:"login-button",children:"Login"})})]})," "]})]})})})," "]})]})})}}},function(e){e.O(0,[664,491,774,888,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);